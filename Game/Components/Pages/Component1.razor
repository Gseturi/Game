@page "/vaime"
@using Microsoft.AspNetCore.Authorization
@using Microsoft.AspNetCore.Components.Authorization
@rendermode @(new InteractiveServerRenderMode(prerender: false))
@inject AuthenticationStateProvider test
@attribute [Authorize]

<AuthorizeView>      

    <Authorized>ylachikela</Authorized>

</AuthorizeView>

@code {
    private bool _isPrerendering = true;

    protected override Task OnInitializedAsync()
    {
    


        return base.OnInitializedAsync();
    }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            var testt =await test.GetAuthenticationStateAsync();

            _isPrerendering = false;
            StateHasChanged();
        }
    }
}
    
